var JSONHTML=function(){var t=["area","base","br","col","command","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"];return function(){var a=this;a.parse=function(e){var n="",r=e.dom.children;for(var t in e.hasOwnProperty("onBefore")&&(a.log("Has onBefore"),a.callbacks.onBefore(e)),r)n+=a.createElement(r[t]);return e.hasOwnProperty("onComplete")&&(a.log("Has onComplete"),a.callbacks.onComplete(e)),n},a.createElement=function(e){var n=a.createTag(e);if(e.hasOwnProperty("children"))for(var r in e.children)n+=a.createElement(e.children[r]);if(t.indexOf(e.tag)<0){if(e.hasOwnProperty("inner"))if(e.inner instanceof Array)n+=e.inner[0].replace(/%s/g,function(){return e.inner[1].shift()});else n+=e.inner;n+="</"+e.tag+">"}return n},a.createTag=function(e){var n="<"+e.tag;for(var r in e.attr)n+=" "+r+'="'+(e.attr[r]instanceof Array?e.attr[r].join(" "):e.attr[r])+'"';return n+=">"},a.callbacks={onComplete:function(e){a.executeCallback("onComplete",e)},onBefore:function(e){a.executeCallback("onBefore",e)}},a.executeCallback=function(e,n){var r=n[e];if("string"==typeof r||r instanceof String){a.log(e+" is a string");var t=window[r];"function"==typeof t&&t()}else"function"==typeof r&&(a.log(e+" is a pre set function"),r())},a.log=function(e){0}}}();